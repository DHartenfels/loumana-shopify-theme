<script defer src="//unpkg.com/alpinejs"></script>

<div class="twcss-flex twcss-max-w-[var(--page-width)] twcss-m-auto twcss-flex-col twcss-items-center twcss-mt-28">
    <h2 class="twcss-text-center twcss-max-w-md twcss-font-extrabold twcss-font-noto twcss-leading-tight twcss-mb-10">
        {{ section.settings.featuredProductsHeading }}
    </h2>

    {%- for block in section.blocks -%}
        <div class="twcss-flex {{ block.settings.direction }} twcss-justify-between twcss-w-full twcss-items-center">
            <div class="twcss-flex twcss-flex-col twcss-max-w-md">
                <span class="twcss-font-noto twcss-font-light twcss-text-[12px] twcss-mb-2">{{ block.settings.product.price | money_with_currency }}</span>
                <h3 class="twcss-font-semibold twcss-font-noto twcss-text-title twcss-mb-2">
                    {{ block.settings.product.title }}
                </h3>
                <p class="twcss-font-light twcss-text-text twcss-leading-5">{{ block.settings.product.description }}</p>
                <div class="learnmore twcss-flex twcss-flex-row twcss-items-center">
                    <form action="/cart/add" method="post">
                        <input type="hidden" value="{{ block.settings.product.selected_or_first_available_variant.id}}" name="id" />
                        <input type="submit" class="mainButton twcss-mr-4" name="add" value="In den Warenkorb">
                    </form>
                    


                    <a href="{{ block.settings.product.url }}" class="twcss-text-[12px]">
                        Mehr
                    </a>
                </div>

            </div>
            <div class="{{block.settings.background}} twcss-w-[600px] twcss-h-[600px] twcss-flex twcss-justify-center twcss-items-center twcss-relative">
                <img src="{{ block.settings.product.featured_image | image_url }}" alt="{{ block.settings.product.title }}" loading="lazy" class="twcss-max-w-xl" height="auto" width="auto">
                <div class="elipse twcss-absolute twcss-bottom-1 twcss-right-28" style="background-color: {{ block.settings.colorPicker }} ">
                    &nbsp;</div>
            </div>
        </div>
    {%- endfor -%}


</div>


<style>
    .bg1{
        background-image:url({{ 'featuredBG1.png' | asset_url }});
        background-position: center;
        background-position: center;
        background-size: contain;
        background-repeat: no-repeat;
    }

    .bg2{
        background-image:url({{ 'FeaturedBG2.png' | asset_url }});
        background-position: center;
        background-position: center;
        background-size: contain;
        background-repeat: no-repeat;
    }

    .bg3{
        background-image:url({{ 'featuredBG3.png' | asset_url }});
        background-position: center;
        background-position: center;
        background-size: contain;
        background-repeat: no-repeat;
    }
</style>

{% schema %}

{
    "name": "Loumana Featured Products",
    "tag": "section",
    "settings": [
        {
            "type": "text",
            "id": "featuredProductsHeading",
            "label": "Überschrift für featured Products",
            "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit."
        }
    ],
    "blocks": [
        {
            "name": "Featured Product",
            "type": "product",
            "settings": [
                {
                    "type": "product",
                    "id": "product",
                    "label": "Produkt"
                }, {
                    "type": "select",
                    "id": "direction",
                    "label": "Produkt links- oder rechtsbündig",
                    "options": [
                        {
                            "value": "twcss-flex-row",
                            "label": "Rechtsbündig"
                        }, {
                            "value": "twcss-flex-row-reverse",
                            "label": "Linksbündig"
                        }
                    ]
                }, {
                    "type": "select",
                    "id": "background",
                    "label": "Produkthintergrund",
                    "options": [
                        {
                            "value": "bg1",
                            "label": "Hintergrund 1"
                        }, {
                            "value": "bg2",
                            "label": "Hintergrund 2"
                        }, {
                            "value": "bg3",
                            "label": "Hintergrund 3"
                        }
                    ]
                },
               {
                "type": "color",
                "id": "colorPicker",
                "label": "Farbe für den Kreis rechts neben dem Bild"
               }
            ]
        }
    ],
    "presets": [
        {
            "name": "Loumana Featured Products"
        }
    ]
}
{% endschema %}